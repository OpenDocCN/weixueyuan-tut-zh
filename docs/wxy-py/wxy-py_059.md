# Python 文件的基本操作

> 原文：[`www.weixueyuan.net/a/807.html`](http://www.weixueyuan.net/a/807.html)

如果希望将数据长久保存，最简单的办法就是将数据写入磁盘文件中。这样在程序退出后，处理结果依然长期有效。对于大型软件项目，文件操作是无法避免的。

> 注意，本节主要介绍普通文本文件和二进制文件的操作方法，对于 json、yaml、cvs、xml 等特殊格式的文件，一般都有对应的包来进行操作，不必直接使用本节介绍的方法来处理。

文件的基本操作步骤如下：

1.  打开文件。
2.  进行读写操作。
3.  关闭文件。

下面是打开某个文本文件，并将其内容显示在屏幕上的代码：

```

fd = open("in.dat", "r")   # 打开文件 in.dat
for line in fd:            # 读取 in.dat 的每一行到变量 line 中
    print(line)            # 在屏幕上打印出 line 的内容
fd.close()                 # 处理结束，关闭文件
```

如果希望将数据写入文件中，可以使用下面的基本操作模式：

```

fd = open("out.dat", "r")    # 以写的方式打开文件 out.dat
fd.write("output line 1")    # 向该文件写入一行数据
fd.write("output line 2")    # 再次向该文件写入一行数据
fd.close()                   # 处理结束，关闭文件
```

如果希望添加数据到某个文件的尾部，如将一些新的日志内容添加到日志文件的尾部，则需要设定文件打开的模式为 a，这样原来文件的数据不会丢失，写入的数据只是添加在原来数据的尾部。下面的代码演示了这样的用法：

```

fd = open("out.dat", "a")    # a 表示是以添加的方式打开该文件
fd.write("log line 1")       # 在尾部添加一行日志
fd.write("log line 2")       # 再次在尾部添加一行日志
fd.close()                   # 处理结束，关闭文件
```

> 有关以上文件操作的具体方法，会在后续章节做详细讲解。