# Java 条件运算符（?:）

条件运算符的符号表示为“?:”，使用该运算符时需要有三个操作数，因此称其为三目运算符。使用条件运算符的一般语法结构为：

```
result=<expression>?<statement1>:<statement3>;
```

当 expression 为真时，执行 statement1， 否则就执行 statement3。此三元运算符荽求返回一个结果，因此要实现简单的二分支程序，即可使用该条件运算符。

下面是一个使用条件运算符的示例。

```
int x,y,z;
x=6,y=2;
z=x>y?x-y:x+y;
```

在这里要计算 z 的值，首先要判断 x>y 表达的值，如果为 true，z 的值为 x-y；否则 z 的值为 x+y。很明显 x>y 表达式结果为 true，所以 z 的值为 4。

技巧：可以将条件运算符理解为 if-else 语句的简化形式，在使用较为简单的表达式时，使用该运算符能够简化程序代码，使程序更加易读。

在使用条件运算符时，还应该注意优先级问题，例如下面的表达式：

```
x>y ? x-=y : x+=y;
```

在编译时会出现语法错误，因为条件运算符优先于赋值运算符，上面的语句实际等价于：

```
(x>y ? x-=y : x)+=y;
```

而运算符“+=”是赋值运算符，该运算符要求左操作数应该是一个变量，因此出现错误。为了避免这类错误，可以使用括号“0”来加以区分。例如，下面是正确的表达式。

```
(x>y) ? (x-=y): (x+=y);
```

#### 例 1

在程序中声明 3 个变量 x、y、z，并由用户从键盘输入 x 的值，然后使用条件运算符向变量 y 和变量 z 赋值。 实现代码如下：

```
public class Test9
{
    public static void main(String[] args)
    {
        int x,y,z;    //声明三个变量
        System.out.print("请输入一个数：");
        Scanner input=new Scanner(System.in);
        x=input.nextInt(); //由用户输入 x 的值

        //判断 x 的值是否大于 5，如果是 y=x，否则 y=-x
        y=x>5?x:-x;

        //判断 y 的值是否大于 x，如果是 z=y，否则 z=5
        z=y>x?y:5;

        System.out.printf("x=%d \n",x);
        System.out.printf("y=%d \n",y);
        System.out.printf("z=%d \n",z);
    }
}
```

保存程序并运行，运行效果如下所示：

```
请输入一个数：58
x=58
y=58
z=5 
```

```
请输入一个数：4
x=4
y=-4
z=5 
```

在该程序中，首先输入 x 的值为 58，然后判断 x 的值是否大于 5，显然条件是成立，则 y 的值为 x，即 y=58。接着判断 y 的值是否大于 x，因为 y 的值和 x 的值都为 58，所以该条件是不成立的，则 z=5。再次输入 x 的值为 4，然后判断 x 的值是否大于 5，不成立，则 y=-4；接着判断 y 的值是否大于 x，不成立，则 z=5。