# PHP global 与$GLOBALS：在函数内访问全局变量

> 原文：[`c.biancheng.net/view/7259.html`](http://c.biancheng.net/view/7259.html)

通过《变量作用域》一节的学习我们知道，在函数内部是不允许使用在函数外部定义的全局变量的，但是有些时候却需要在函数内使用这些全局变量，那么我们该怎么办呢？

使用 PHP 中的 global 关键字就可以让我们在函数内部使用在函数外部定义的全局变量，语法格式如下：

global 变量 1, 变量 2, ...

global 关键字后面可以跟多个变量作为参数，多个变量之间以“,”分隔。

使用 global 关键字需要注意一下几点：

*   global 关键字，只能在函数内部使用，不能在函数外部使用；
*   global 关键字只能用来引用函数外部的全局变量，在引用时不能直接赋值，赋值和声明语句需要分开写；
*   在函数内部销毁一个使用 global 关键字修饰的变量时，函数外部的变量不受影响。

【示例】分别定义三个全局变量，并在函数内对部分变量使用 global 关键字，然后在函数内部尝试调用这些变量的值：

```

<?php
    $a = 1;
    $b = 2;
    $c = 3;
    function demo(){
        global $a, $b;
        echo "变量 a：".$a;
        echo "<br>变量 b：".$b;
        echo "<br>变量 c：".$c;
    }
    demo();
?>
```

运行结果如下：

变量 a：1
变量 b：2
变量 c：

通过运行结果可以看出，在函数 demo 中使用 global 关键字在函数内部成功打印了变量 $a、$b 的值，而变量 $c 没有使用，虽然程序不会出错，但是没有打印成功。

与 global 关键字功能类似的还有 $GLOBALS, $GLOBALS 是一个预定义的超全局数组，其中包含了全局作用域中的所有可用变量，变量的名字就是数组的键。

【示例】调整上面示例中的代码，在函数内部使用 $GLOBALS 调用在函数外部定义的全局变量：

```

<?php
    $a = 1;
    $b = 2;
    $c = 3;
    function demo(){
        echo "变量 a：".$GLOBALS['a'];
        echo "<br>变量 b：".$GLOBALS['b'];
        echo "<br>变量 c：".$GLOBALS['c'];
    }
    demo();
?>
```

运行结果如下：

变量 a：1
变量 b：2
变量 c：3

与 global 相比，$GLOBALS 有一下几点不同：

*   global $var 指的是对函数外部同名变量的引用，是两个互不影响的变量，而 $GLOBALS['var'] 指的是函数外部变量本身，是一个变量。
*   $GLOBALS 不限定必须在函数内部使用，在程序的任意位置都能使用。