# C 语言函数的形参和实参

上一个例程中在进行函数调用的时候，不需要任何参数传递，所以函数定义和调用时括号内都是空的，但是更多的时候我们需要在主调函数和被调用函数之间传递参数。在调用一个有参数的函数时，函数名后边括号中的参数叫做实际参数，简称**实参**。而被调用的函数在进行定义时，括号里的参数叫做形式参数，简称**形参**。我们用个简单程序例子做说明。

```
unsigned char add(unsigned char x, unsigned char y);  //函数声明
void main(){
    unsigned char a = 1;
    unsigned char b = 2;
    unsigned char c = 0;
    //调用时，a 和 b 就是实参，把函数的返回值赋给 c
    //执行完后，c 的值就是 3
    c = add(a, b);
    while(1);
}
//函数定义，这里括号中的 x 和 y 就是形参
unsigned char add(unsigned char x, unsigned char y){
    unsigned char z = 0;
    z = x + y;
    return z;  //返回值 z 的类型就是函数 add 的类型
}
```

这个演示程序虽然很简单，但是函数调用的全部内容都囊括在内了。主调函数 main 和被调用函数 add 之间的数据通过形参和实参发生了传递关系，而函数运算完后把值传递给了变量 c，函数只要不是 void 类型，就都会有返回值，返回值类型就是函数的类型。

关于形参和实参，还有以下几点需要注意：

1.  函数定义中指定的形参，在未发生函数调用时不占内存，只有函数调用时，函数 add 中的形参才被分配内存单元。在调用结束后，形参所占的内存单元也被释放，这个前边讲过了，形参是局部变量。
2.  实参可以是常量，也可以是简单或者复杂的表达式，但是要求他们必须有确定的值，在调用发生时将实参的值传递给形参。如上边这个程序也可以写成：c = add(1, a+b);
3.  形参必须要指定数据类型，和定义变量一样，因为它本来就是局部变量。
4.  实参和形参的数据类型应该相同或者赋值兼容。和变量赋值一样，当形参和实参出现不同类型时，则按照不同类型数值的赋值规则进行转换。
5.  主调函数在调用函数之前，应对被调函数做原型声明。
6.  实参向形参的数据传递是单向传递，不能由形参再回传给实参。也就是说，实参值传递给形参后，调用结束，形参单元被释放，而实参单元仍保留并且维持原值。