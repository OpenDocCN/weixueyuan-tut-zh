# C 语言 switch 语句

用 if....else 语句在处理多分支的时候，分支太多就会显得不方便，且容易出现 if 和 else 配对出现错误的情况，在 C 语言中提供了另外一种多分支选择的语句——switch 语句，它的基本语法格式如下：

    switch (表达式){

        case 常量表达式 1: 语句 1;

        case 常量表达式 2: 语句 2;

        ......

        case 常量表达式 n: 语句 n;

        default: 语句 n+1;

    }

它的执行过程是：首先计算“表达式”的值，然后从第一个 case 开始，与“常量表达式 x”进行比较，如果与当前常量表达式的值不相等，那么就不执行冒号后边的语句 x，一旦发现和某个常量表达式的值相等了，那么它会执行之后所有的语句，如果直到最后一个“常量表达式 n”都没有找到相等的值，那么就执行 default 后的“语句 n+1”。请特别注意一点，当找到一个相等的 case 分支后，会执行该分支以及之后所有分支的语句，很明显这不是我们想要的结果。

在 C 语言中，有一条 break 语句，作用是跳出当前的循环语句，包括 for 循环和 while 循环，同时，它还能用来结束 switch 语句块。switch 的分支语句一共有 n+1 种，而我们通常希望的都是选择其中的一个分支来执行，执行完后就结束整个 switch 语句，而继续执行 switch 后面的语句，此时就可以通过在每个分支后加上 break 语句来实现了。如下：

    switch (表达式){

        case 常量表达式 1: 语句 1; break;

        case 常量表达式 2: 语句 2; break;

        ......

        case 常量表达式 n: 语句 n; break;

        default: 语句 n+1; break;

    }

加了这个 break 语句后，一旦“常量表达式 x”与“表达式”的值相等了，那么就执行“语句 x”，执行完毕后，由于有了 break 则直接跳出 switch 语句，继续执行 switch 语句后面的程序了，这样就可以避免执行不必要的语句。了解了这个 switch 语句后，我们马上会在本章程序中使用巩固它。