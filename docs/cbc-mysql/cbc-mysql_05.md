# Mysql 各种存储引擎的特性以及如何选择存储引擎

## 几个常用存储引擎的特点

下面我们重点介绍几种常用的存储引擎并对比各个存储引擎之间的区别和推荐使用方式。

| 特点 | Myisam | BDB | Memory | InnoDB | Archive |
| 存储限制 | 没有 | 没有 | 有 | 64TB | 没有 |
| 事务安全 |   | 支持 |   | 支持 |   |
| 锁机制 | 表锁 | 页锁 | 表锁 | 行锁 | 行锁 |
| B 树索引 | 支持 | 支持 | 支持 | 支持 |   |
| 哈希索引 |   |   | 支持 | 支持 |   |
| 全文索引 | 支持 |   |   |   |   |
| 集群索引 |   |   |   | 支持 |   |
| 数据缓存 |   |   | 支持 | 支持 |   |
| 索引缓存 | 支持 |   | 支持 | 支持 |   |
| 数据可压缩 | 支持 |   |   |   | 支持 |
| 空间使用 | 低 | 低 | N/A | 高 | 非常低 |
| 内存使用 | 低 | 低 | 中等 | 高 | 低 |
| 批量插入的速度 | 高 | 高 | 高 | 低 | 非常高 |
| 支持外键 |   |   |   | 支持 |   |

**最常使用的 2 种存储引擎：**

*   Myisam 是 Mysql 的默认存储引擎。当 create 创建新表时，未指定新表的存储引擎时，默认使用 Myisam。每个 MyISAM 在磁盘上存储成三个文件。文件名都和表名相同，扩展名分别是.frm（存储表定义）、.MYD (MYData，存储数据)、.MYI (MYIndex，存储索引)。数据文件和索引文件可以放置在不同的目录，平均分布 io，获得更快的速度。   
*   InnoDB 存储引擎提供了具有提交、回滚和崩溃恢复能力的事务安全。但是对比 Myisam 的存储引擎，InnoDB 写的处理效率差一些并且会占用更多的磁盘空间以保留数据和索引。

## 如何选择合适的存储引擎

选择标准：根据应用特点选择合适的存储引擎，对于复杂的应用系统可以根据实际情况选择多种存储引擎进行组合。

下面是常用存储引擎的适用环境：

1.  MyISAM：默认的 MySQL 插件式存储引擎，它是在 Web、数据仓储和其他应用环境下最常使用的存储引擎之一
2.  InnoDB：用于事务处理应用程序，具有众多特性，包括 ACID 事务支持。
3.  Memory：将所有数据保存在 RAM 中，在需要快速查找引用和其他类似数据的环境下，可提供极快的访问。
4.  Merge：允许 MySQL DBA 或开发人员将一系列等同的 MyISAM 表以逻辑方式组合在一起，并作为 1 个对象引用它们。对于诸如数据仓储等 VLDB 环境十分适合。